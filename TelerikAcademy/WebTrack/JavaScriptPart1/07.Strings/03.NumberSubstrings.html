<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title>Substring</title>
	<link href="styles/js-console.css" rel="stylesheet" />
	<style>
		input[type=text]{
			border:1px solid black;
			padding:5px 15px;
			background-color:black;
			color:white;
			font-family:Consolas;		   
			margin-bottom:5px;
		}

		a{
			color:black;
			border:1px solid black;
			padding:5px 15px;						
			text-decoration:none;	   
			display:inline-block;		 
			margin: 15px 0;
		}

		a:hover{
			text-decoration:underline;
		}
	</style>
</head>
<body>
    <label for="first">Word: </label>
	<input type="text" id="first"/>
	<br />	
    <a href="#" onclick="checkText()">Check</a>
	<div id="console">
	</div>
	<script src="scripts/js-console.js">	  
	</script> 
	<script>
	    function checkText() {
            // Moving strings to lower case to perform case insensitive search
	        var word = jsConsole.read("#first").toLowerCase();
	        var counter = 0;
            // Text is hardcoded for easier debugging
	        var text = "We are living in an yellow submarine. We don't have anything else. Inside the submarine is very tight. So we are drinking all the day. We will move out of it in 5 days.".toLowerCase();
	        var currentStartIndex = 0;
	        while (true) {
	            // If the substring exists in the remaining portion of the string, we increase the counter and check the starting index for search to the index of the
                // next occurance +1.
	            if (text.indexOf(word, currentStartIndex) != -1) {
	                counter++;
	                currentStartIndex = text.indexOf(word, currentStartIndex)+1;
	            }
                // Otherwise, we break.
	            else {
	                break;
	            }
	        }
	        jsConsole.writeLine("The number of occurances of word \"" + word + "\" is " + counter);
	    }
	</script>	  
</body>
</html>